const images_keys = {
    tank_player1_down_c0_t1: null,
    tank_player1_down_c0_t2: null,
    tank_player1_left_c0_t1: null,
    tank_player1_left_c0_t2: null,
    tank_player1_right_c0_t1: null,
    tank_player1_right_c0_t2: null,
    tank_player1_up_c0_t1: null,
    tank_player1_up_c0_t2: null,
    
    tank_player1_down_c0_t1_s1: null,
    tank_player1_down_c0_t2_s1: null,
    tank_player1_left_c0_t1_s1: null,
    tank_player1_left_c0_t2_s1: null,
    tank_player1_right_c0_t1_s1: null,
    tank_player1_right_c0_t2_s1: null,
    tank_player1_up_c0_t1_s1: null,
    tank_player1_up_c0_t2_s1: null,
    
    tank_player1_down_c0_t1_s2: null,
    tank_player1_down_c0_t2_s2: null,
    tank_player1_left_c0_t1_s2: null,
    tank_player1_left_c0_t2_s2: null,
    tank_player1_right_c0_t1_s2: null,
    tank_player1_right_c0_t2_s2: null,
    tank_player1_up_c0_t1_s2: null,
    tank_player1_up_c0_t2_s2: null,
    
    tank_player1_down_c0_t1_s3: null,
    tank_player1_down_c0_t2_s3: null,
    tank_player1_left_c0_t1_s3: null,
    tank_player1_left_c0_t2_s3: null,
    tank_player1_right_c0_t1_s3: null,
    tank_player1_right_c0_t2_s3: null,
    tank_player1_up_c0_t1_s3: null,
    tank_player1_up_c0_t2_s3: null,
    
    tank_basic_down_c0_t1: null,
    tank_basic_down_c0_t2: null,
    tank_basic_left_c0_t1: null,
    tank_basic_left_c0_t2: null,
    tank_basic_right_c0_t1: null,
    tank_basic_right_c0_t2: null,
    tank_basic_up_c0_t1: null,
    tank_basic_up_c0_t2: null,
    
    tank_basic_down_c0_t1_f: null,
    tank_basic_down_c0_t2_f: null,
    tank_basic_left_c0_t1_f: null,
    tank_basic_left_c0_t2_f: null,
    tank_basic_right_c0_t1_f: null,
    tank_basic_right_c0_t2_f: null,
    tank_basic_up_c0_t1_f: null,
    tank_basic_up_c0_t2_f: null,
    
    tank_fast_down_c0_t1: null,
    tank_fast_down_c0_t2: null,
    tank_fast_left_c0_t1: null,
    tank_fast_left_c0_t2: null,
    tank_fast_right_c0_t1: null,
    tank_fast_right_c0_t2: null,
    tank_fast_up_c0_t1: null,
    tank_fast_up_c0_t2: null,
    
    tank_fast_down_c0_t1_f: null,
    tank_fast_down_c0_t2_f: null,
    tank_fast_left_c0_t1_f: null,
    tank_fast_left_c0_t2_f: null,
    tank_fast_right_c0_t1_f: null,
    tank_fast_right_c0_t2_f: null,
    tank_fast_up_c0_t1_f: null,
    tank_fast_up_c0_t2_f: null,
    
    tank_power_down_c0_t1: null,
    tank_power_down_c0_t2: null,
    tank_power_left_c0_t1: null,
    tank_power_left_c0_t2: null,
    tank_power_right_c0_t1: null,
    tank_power_right_c0_t2: null,
    tank_power_up_c0_t1: null,
    tank_power_up_c0_t2: null,
    
    tank_power_down_c0_t1_f: null,
    tank_power_down_c0_t2_f: null,
    tank_power_left_c0_t1_f: null,
    tank_power_left_c0_t2_f: null,
    tank_power_right_c0_t1_f: null,
    tank_power_right_c0_t2_f: null,
    tank_power_up_c0_t1_f: null,
    tank_power_up_c0_t2_f: null,
    
    tank_armor_down_c0_t1: null,
    tank_armor_down_c0_t1_f: null,
    tank_armor_down_c0_t2: null,
    tank_armor_down_c0_t2_f: null,
    tank_armor_down_c1_t1: null,
    tank_armor_down_c1_t2: null,
    tank_armor_down_c2_t1: null,
    tank_armor_down_c2_t2: null,
    tank_armor_left_c0_t1: null,
    tank_armor_left_c0_t1_f: null,
    tank_armor_left_c0_t2: null,
    tank_armor_left_c0_t2_f: null,
    tank_armor_left_c1_t1: null,
    tank_armor_left_c1_t2: null,
    tank_armor_left_c2_t1: null,
    tank_armor_left_c2_t2: null,
    tank_armor_right_c0_t1: null,
    tank_armor_right_c0_t1_f: null,
    tank_armor_right_c0_t2: null,
    tank_armor_right_c0_t2_f: null,
    tank_armor_right_c1_t1: null,
    tank_armor_right_c1_t2: null,
    tank_armor_right_c2_t1: null,
    tank_armor_right_c2_t2: null,
    tank_armor_up_c0_t1: null,
    tank_armor_up_c0_t1_f: null,
    tank_armor_up_c0_t2: null,
    tank_armor_up_c0_t2_f: null,
    tank_armor_up_c1_t1: null,
    tank_armor_up_c1_t2: null,
    tank_armor_up_c2_t1: null,
    tank_armor_up_c2_t2: null,
    
    appear_1: null,
    appear_2: null,
    appear_3: null,
    appear_4: null,
    
    big_explosion_1: null,
    big_explosion_2: null,
    big_explosion_3: null,
    big_explosion_4: null,
    big_explosion_5: null,
    
    shield_1: null,
    shield_2: null,
    
    bullet_up: null,
    bullet_down: null,
    bullet_left: null,
    bullet_right: null,
    
    bullet_explosion_1: null,
    bullet_explosion_2: null,
    bullet_explosion_3: null,
    
    wall_brick: null,
    wall_steel: null,
    trees: null,
    water_1: null,
    water_2: null,
    
    base: null,
    base_destroyed: null,
    
    enemy: null,
    lives: null,
    flag: null,
    
    roman_one: null,
    roman_one_white: null,
    roman_one_red: null,
    
    points_100: null,
    points_200: null,
    points_300: null,
    points_400: null,
    points_500: null,
    
    powerup_grenade: null,
    powerup_helmet: null,
    powerup_shovel: null,
    powerup_star: null,
    powerup_tank: null,
    powerup_timer: null,
    
    battle_city: null,
    namcot: null,
    copyright: null,
    white_line: null,
    arrow: null,
    game_over: null,
};

interface image_obj {
    [key: string]: HTMLImageElement
}
export default class Sprite {
    // src: string;
    // image: HTMLImageElement;
    images: image_obj
    loaded: boolean;

    constructor() {
        // this.src = src;
        // this.image = new Image();
        this.images = {};
        this.loaded = false;
    }

    load() {
        let images_to_load = Object.keys(images_keys).length;

        return new Promise((resolve, reject) => {
            // this.image.src = this.src;

            this.images = Object.keys(images_keys).reduce((result, key) => {
                const img = new Image();
                // import key from `../assets/${key}.png`;
                img.src = `/assets/${key}.png`;

                img.addEventListener('load', () => {
                    --images_to_load;
                    if (images_to_load <= 0) {
                        this.loaded = true;
                        resolve(this);
                    }
                });
                img.addEventListener('error', (err) => {
                    reject(err);
                });

                result = {
                    ...result,
                    [key]: img
                };

                return result;
            }, {})
        });
    }
}